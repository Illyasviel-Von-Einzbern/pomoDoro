import{g as ae,p as ie,t as K,u as oe,c as a,w as j,v as le,a as l,n as ne,b as H,M as Se,m as Te,d as ce,V as Re,e as Le,f as Ne,h as $e,i as Ae,j as pe,k as P,r as M,l as Ee,o as De,q as Me,L as Ue,s as Oe,F as $,x as te,y as We,z as qe,A as ze,E as ue,I as re,B as Ke,C as je,D as me,G as He,H as Xe,J as Ye,K as Q,N as Ge,O as Je,P as ye,Q as Qe,R,S as Ze,T as F,U as et,W as Z,X as tt,Y as L,Z as ge,_ as N,$ as he,a0 as be,a1 as z}from"./index-88BeCIkd.js";import{V as lt,m as nt,u as _e,a as at,b as xe,f as it,c as ot,d as Ce}from"./forwardRefs-mZDv5K0_.js";class de{constructor(n){let{x:r,y:i,width:t,height:u}=n;this.x=r,this.y=i,this.width=t,this.height=u}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function st(e){const n=e.getBoundingClientRect(),r=getComputedStyle(e),i=r.transform;if(i){let t,u,c,k,f;if(i.startsWith("matrix3d("))t=i.slice(9,-1).split(/, /),u=Number(t[0]),c=Number(t[5]),k=Number(t[12]),f=Number(t[13]);else if(i.startsWith("matrix("))t=i.slice(7,-1).split(/, /),u=Number(t[0]),c=Number(t[3]),k=Number(t[4]),f=Number(t[5]);else return new de(n);const o=r.transformOrigin,s=n.x-k-(1-u)*parseFloat(o),g=n.y-f-(1-c)*parseFloat(o.slice(o.indexOf(" ")+1)),v=u?n.width/u:e.offsetWidth+1,U=c?n.height/c:e.offsetHeight+1;return new de({x:s,y:g,width:v,height:U})}else return new de(n)}function ut(e,n,r){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(n,r)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(t=>{i.onfinish=()=>{t(i)}})),i}const rt="cubic-bezier(0.4, 0, 0.2, 1)",dt=ie({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ce(),...Te({transition:{component:Re}})},"VCounter"),ct=ae()({name:"VCounter",functional:!0,props:dt(),setup(e,n){let{slots:r}=n;const i=K(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return oe(()=>a(Se,{transition:e.transition},{default:()=>[j(l("div",{class:H(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:ne(e.style)},[r.default?r.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[le,e.active]])]})),{}}}),ft=ie({floating:Boolean,...ce()},"VFieldLabel"),ee=ae()({name:"VFieldLabel",props:ft(),setup(e,n){let{slots:r}=n;return oe(()=>a(lt,{class:H(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:ne(e.style)},r)),{}}}),vt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Ie=ie({appendInnerIcon:re,bgColor:String,clearable:Boolean,clearIcon:{type:re,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,details:Boolean,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:re,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>vt.includes(e)},"onClick:clear":ue(),"onClick:appendInner":ue(),"onClick:prependInner":ue(),...ce(),...ze(),...qe(),...We()},"VField"),ke=ae()({name:"VField",inheritAttrs:!1,props:{id:String,...nt(),...Ie()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:r,emit:i,slots:t}=n;const{themeClasses:u}=Le(e),{loaderClasses:c}=Ne(e),{focusClasses:k,isFocused:f,focus:o,blur:s}=_e(e),{InputIcon:g}=at(e),{roundedClasses:v}=$e(e),{rtlClasses:U}=Ae(),h=K(()=>e.dirty||e.active),w=K(()=>!!(e.label||t.label)),O=K(()=>!e.singleLine&&w.value),q=pe(),b=P(()=>e.id||`input-${q}`),X=K(()=>e.details?`${b.value}-messages`:void 0),Y=M(),W=M(),d=M(),m=P(()=>["plain","underlined"].includes(e.variant)),A=P(()=>e.error||e.disabled?void 0:h.value&&f.value?e.color:e.baseColor),B=P(()=>{if(!(!e.iconColor||e.glow&&!f.value))return e.iconColor===!0?A.value:e.iconColor}),{backgroundColorClasses:fe,backgroundColorStyles:se}=Ee(()=>e.bgColor),{textColorClasses:G,textColorStyles:S}=De(A);Me(h,V=>{if(O.value){const C=Y.value.$el,_=W.value.$el;requestAnimationFrame(()=>{const I=st(C),y=_.getBoundingClientRect(),T=y.x-I.x,p=y.y-I.y-(I.height/2-y.height/2),E=y.width/.75,D=Math.abs(E-I.width)>1?{maxWidth:Ke(E)}:void 0,Fe=getComputedStyle(C),ve=getComputedStyle(_),Pe=parseFloat(Fe.transitionDuration)*1e3||150,we=parseFloat(ve.getPropertyValue("--v-field-label-scale")),Be=ve.getPropertyValue("color");C.style.visibility="visible",_.style.visibility="hidden",ut(C,{transform:`translate(${T}px, ${p}px) scale(${we})`,color:Be,...D},{duration:Pe,easing:rt,direction:V?"normal":"reverse"}).finished.then(()=>{C.style.removeProperty("visibility"),_.style.removeProperty("visibility")})})}},{flush:"post"});const x=P(()=>({isActive:h,isFocused:f,controlRef:d,blur:s,focus:o}));function J(V){V.target!==document.activeElement&&V.preventDefault()}return oe(()=>{var T,p,E;const V=e.variant==="outlined",C=!!(t["prepend-inner"]||e.prependInnerIcon),_=!!(e.clearable||t.clear)&&!e.disabled,I=!!(t["append-inner"]||e.appendInnerIcon||_),y=()=>t.label?t.label({...x.value,label:e.label,props:{for:b.value}}):e.label;return l("div",te({class:["v-field",{"v-field--active":h.value,"v-field--appended":I,"v-field--center-affix":e.centerAffix??!m.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":C,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!y(),[`v-field--variant-${e.variant}`]:!0},u.value,fe.value,k.value,c.value,v.value,U.value,e.class],style:[se.value,e.style],onClick:J},r),[l("div",{class:"v-field__overlay"},null),a(Ue,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),C&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&a(g,{key:"prepend-icon",name:"prependInner",color:B.value},null),(T=t["prepend-inner"])==null?void 0:T.call(t,x.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&O.value&&a(ee,{key:"floating-label",ref:W,class:H([G.value]),floating:!0,for:b.value,"aria-hidden":!h.value,style:ne(S.value)},{default:()=>[y()]}),w.value&&a(ee,{key:"label",ref:Y,for:b.value},{default:()=>[y()]}),((p=t.default)==null?void 0:p.call(t,{...x.value,props:{id:b.value,class:"v-field__input","aria-describedby":X.value},focus:o,blur:s}))??l("div",{id:b.value,class:"v-field__input","aria-describedby":X.value},null)]),_&&a(Oe,{key:"clear"},{default:()=>[j(l("div",{class:"v-field__clearable",onMousedown:D=>{D.preventDefault(),D.stopPropagation()}},[a(je,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[t.clear?t.clear({...x.value,props:{onFocus:o,onBlur:s,onClick:e["onClick:clear"],tabindex:-1}}):a(g,{name:"clear",onFocus:o,onBlur:s,tabindex:-1},null)]})]),[[le,e.dirty]])]}),I&&l("div",{key:"append",class:"v-field__append-inner"},[(E=t["append-inner"])==null?void 0:E.call(t,x.value),e.appendInnerIcon&&a(g,{key:"append-icon",name:"appendInner",color:B.value},null)]),l("div",{class:H(["v-field__outline",G.value]),style:ne(S.value)},[V&&l($,null,[l("div",{class:"v-field__outline__start"},null),O.value&&l("div",{class:"v-field__outline__notch"},[a(ee,{ref:W,floating:!0,for:b.value,"aria-hidden":!h.value},{default:()=>[y()]})]),l("div",{class:"v-field__outline__end"},null)]),m.value&&O.value&&a(ee,{ref:W,floating:!0,for:b.value,"aria-hidden":!h.value},{default:()=>[y()]})])])}),{controlRef:d,fieldIconColor:B}}});function mt(e){function n(r,i){var t,u;!e.autofocus||!r||(u=(t=i[0].target)==null?void 0:t.focus)==null||u.call(t)}return{onIntersect:n}}const yt=["color","file","time","date","datetime-local","week","month"],gt=ie({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ot(),...Ie()},"VTextField"),Ve=ae()({name:"VTextField",directives:{vIntersect:me},inheritAttrs:!1,props:gt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:r,emit:i,slots:t}=n;const u=He(e,"modelValue"),{isFocused:c,focus:k,blur:f}=_e(e),{onIntersect:o}=mt(e),s=P(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),g=P(()=>{if(r.maxlength)return r.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),v=P(()=>["plain","underlined"].includes(e.variant)),U=M(),h=M(),w=M(),O=P(()=>yt.includes(e.type)||e.persistentPlaceholder||c.value||e.active);function q(){c.value||k(),Q(()=>{w.value!==document.activeElement&&Q(()=>{var d;return(d=w.value)==null?void 0:d.focus()})})}function b(d){i("mousedown:control",d),d.target!==w.value&&(q(),d.preventDefault())}function X(d){i("click:control",d)}function Y(d,m){d.stopPropagation(),q(),Q(()=>{u.value=null,m(),Ge(e["onClick:clear"],d)})}function W(d){var A;const m=d.target;if(u.value=m.value,(A=e.modelModifiers)!=null&&A.trim&&["text","search","password","tel","url"].includes(e.type)){const B=[m.selectionStart,m.selectionEnd];Q(()=>{m.selectionStart=B[0],m.selectionEnd=B[1]})}}return oe(()=>{const d=!!(t.counter||e.counter!==!1&&e.counter!=null),m=!!(d||t.details),[A,B]=Xe(r),{modelValue:fe,...se}=xe.filterProps(e),G=ke.filterProps(e);return a(xe,te({ref:U,modelValue:u.value,"onUpdate:modelValue":S=>u.value=S,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":v.value},e.class],style:e.style},A,se,{centerAffix:!v.value,focused:c.value}),{...t,default:S=>{let{id:x,isDisabled:J,isDirty:V,isReadonly:C,isValid:_,hasDetails:I,reset:y}=S;return a(ke,te({ref:h,onMousedown:b,onClick:X,"onClick:clear":T=>Y(T,y),"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},G,{id:x.value,active:O.value||V.value,dirty:V.value||e.dirty,disabled:J.value,focused:c.value,details:I.value,error:_.value===!1}),{...t,default:T=>{let{props:{class:p,...E}}=T;const D=j(l("input",te({ref:w,value:u.value,onInput:W,autofocus:e.autofocus,readonly:C.value,disabled:J.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:q,onBlur:f},E,B),null),[[me,{handler:o},null,{once:!0}]]);return l($,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?l("div",{class:H(p),"data-no-activator":""},[t.default(),D]):Ye(D,{class:p}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:m?S=>{var x;return l($,null,[(x=t.details)==null?void 0:x.call(t,S),d&&l($,null,[l("span",null,null),a(ct,{active:e.persistentCounter||c.value,value:s.value,max:g.value,disabled:e.disabled},t.counter)])])}:void 0})}),it({},U,h,w)}}),ht={key:0},bt={key:0},kt={__name:"ListView",setup(e){const n=Je(),r=M(""),i=ye("inputTextField"),t=ye("editTextField"),u={required:f=>!!f||"必填",length:f=>f.length>=3||"必須要三個字以上"},c=()=>{i.value.isValid&&(n.addItem(r.value),i.value.reset())},k=(f,o)=>{t.value[o].isValid&&n.confirmEdit(f)};return(f,o)=>(F(),Qe(Ze,null,{default:R(()=>[a(et,null,{default:R(()=>[a(Z,{cols:"12"},{default:R(()=>o[1]||(o[1]=[l("h1",{class:"text-center"},"未完成",-1)])),_:1,__:[1]}),a(Z,{cols:"12"},{default:R(()=>[a(Ve,{ref_key:"inputTextField",ref:i,modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=s=>r.value=s),"append-icon":"mdi-plus",clearable:"",label:"新增事項",rules:[u.required,u.length],"onClick:append":c,onKeydown:tt(c,["enter"])},null,8,["modelValue","rules"]),a(Ce,null,{default:R(()=>[o[3]||(o[3]=l("thead",null,[l("tr",null,[l("th",null,"事項"),l("th",null,"操作")])],-1)),l("tbody",null,[N(n).items.length===0?(F(),L("tr",ht,o[2]||(o[2]=[l("td",{colspan:"2"},"沒有項目",-1)]))):ge("",!0),(F(!0),L($,null,he(N(n).items,(s,g)=>(F(),L("tr",{key:s.id},[l("td",null,[j(a(Ve,{ref_for:!0,ref_key:"editTextField",ref:t,modelValue:s.model,"onUpdate:modelValue":v=>s.model=v,autofocus:"",rules:[u.required,u.length]},null,8,["modelValue","onUpdate:modelValue","rules"]),[[le,s.edit]]),j(l("span",null,be(s.text),513),[[le,!s.edit]])]),l("td",null,[s.edit?(F(),L($,{key:0},[a(z,{icon:"mdi-check",onClick:v=>k(s.id,g)},null,8,["onClick"]),a(z,{icon:"mdi-undo",onClick:v=>N(n).cancelEdit(s.id)},null,8,["onClick"])],64)):(F(),L($,{key:1},[a(z,{icon:"mdi-pencil",onClick:v=>N(n).editItem(s.id)},null,8,["onClick"]),a(z,{icon:"mdi-delete",onClick:v=>N(n).delItem(s.id)},null,8,["onClick"])],64))])]))),128))])]),_:1,__:[3]})]),_:1}),a(Z,{cols:"12"},{default:R(()=>o[4]||(o[4]=[l("h1",{class:"text-center"},"已完成",-1)])),_:1,__:[4]}),a(Z,{cols:"12"},{default:R(()=>[a(Ce,null,{default:R(()=>[o[6]||(o[6]=l("thead",null,[l("tr",null,[l("th",null,"事項"),l("th",null,"操作")])],-1)),l("tbody",null,[N(n).finishedItems.length===0?(F(),L("tr",bt,o[5]||(o[5]=[l("td",{colspan:"2"},"沒有事項",-1)]))):ge("",!0),(F(!0),L($,null,he(N(n).finishedItems,s=>(F(),L("tr",{key:s.id},[l("td",null,be(s.text),1),l("td",null,[a(z,{icon:"mdi-delete",onClick:g=>N(n).delFinishedItem(s.id)},null,8,["onClick"])])]))),128))])]),_:1,__:[6]})]),_:1})]),_:1})]),_:1}))}};export{kt as default};
